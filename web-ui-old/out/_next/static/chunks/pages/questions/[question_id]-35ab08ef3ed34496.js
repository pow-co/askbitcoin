(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[450],{23168:function(t,e,n){"use strict";n(50029);var r=n(72640),o=n(59499),i=(n(87794),n(67294)),a=(n(41664),n(2734)),s=n(98396),c=n(86886),l=n(15861),u=n(47739),p=n(35294),d=n(18972),h=n(74231),f=(n(73955),n(87536)),x=n(95496),m=n(38456),j=n.n(m),y=n(10043),g=n.n(y),w=n(73400),b=(n(71978),n(32107)),Z=(n(62055),n(94552),n(74202)),v=n(65444),k=n(61320),P=n.n(k),O=n(52838),_=n(82864),S=n(20132),C=n(11163),A=(n(30120),n(17550),n(84059),n(85893));function R(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function q(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?R(Object(n),!0).forEach((function(e){(0,o.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var I=h.Ry().shape({name:h.Z_().required("Comment Field is Required")});e.Z=function(t){t.commentAdd,t.handleCommentLikes,t.handleReplayLikes;var e=t.post,n=(t.replyAdd,t.answer),o=(0,a.Z)(),h=(0,C.useRouter)(),m=e.tx_id,y=e.content,k=e.author,R=e.difficulty,D=(e.answers,e.created_at,e.timestamp),E=i.useState(!1),M=(0,r.Z)(E,2),T=M[0],z=M[1],N=((0,w.Ds)().enqueueSnackbar,(0,S.Z)().borderRadius,(0,s.Z)(o.breakpoints.down("md")),i.useState(null)),U=(0,r.Z)(N,2),W=U[0],F=U[1],L=function(t){z(!1),F(!1)},V=i.useState(null),B=(0,r.Z)(V,2),Q=(B[0],B[1],(0,f.cI)({resolver:(0,x.X)(I)}));Q.handleSubmit,Q.formState.errors,Q.reset;return console.log("__TIMESTAMP",D),(0,A.jsx)(b.Z,{onClick:function(t){t.stopPropagation(),h.push("/".concat(n?"answers":"questions","/").concat(m))},children:(0,A.jsxs)(c.ZP,{container:!0,spacing:1,children:[(0,A.jsx)(c.ZP,{item:!0,xs:12,children:(0,A.jsxs)(c.ZP,{container:!0,wrap:"nowrap",alignItems:"center",spacing:1,children:[(0,A.jsx)(c.ZP,{item:!0,children:(null===k||void 0===k?void 0:k.email)&&(0,A.jsx)(Z.Z,{alt:"User 1",src:null!==k&&void 0!==k&&k.email?"https://bitpic.network/u/".concat(k.email):"https://bitpic.network/u/unknown"})}),(0,A.jsx)(c.ZP,{item:!0,xs:!0,zeroMinWidth:!0,children:(0,A.jsxs)(c.ZP,{container:!0,alignItems:"center",spacing:1,children:[(0,A.jsx)(c.ZP,{item:!0,children:k&&(0,A.jsx)(l.Z,{align:"left",variant:"h5",component:"div",children:k?k.name:"Anonymous"})}),(0,A.jsx)(c.ZP,{item:!0,children:(0,A.jsx)(l.Z,{align:"left",variant:"caption",children:(0,A.jsx)("a",{target:"_blank",rel:"noopener",href:"https://whatsonchain.com/tx/".concat(m),children:P()(D).format("MMM Do YYYY, h:mm:ss a")})})})]})}),(0,A.jsxs)(c.ZP,{item:!0,children:[(0,A.jsx)(u.Z,{sx:{borderRadius:"12px"},onClick:function(t){t.stopPropagation()},children:(0,A.jsx)(Z.Z,{variant:"rounded",sx:q(q(q({},o.typography.commonAvatar),o.typography.smallAvatar),{},{background:"dark"===o.palette.mode?o.palette.dark.main:o.palette.secondary.light,color:"dark"===o.palette.mode?o.palette.dark.light:o.palette.secondary.dark,zIndex:1,transition:"all .2s ease-in-out",'&[aria-controls="menu-list-grow"],&:hover':{background:o.palette.secondary.main,color:o.palette.secondary.light}}),"aria-controls":"menu-post","aria-haspopup":"true",children:(0,A.jsx)(_.Z,{fontSize:"inherit"})})}),(0,A.jsx)(p.Z,{id:"menu-post",anchorEl:W,keepMounted:!0,open:Boolean(W),onClose:L,variant:"selectedMenu",anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:(0,A.jsx)(d.Z,{onClick:function(t){return t.stopPropagation(),z(!0),!1},children:"View QR Code"})})]})]})}),(0,A.jsxs)(c.ZP,{item:!0,xs:12,sx:{"& > p":q(q({},o.typography.body1),{},{mb:0})},children:[(0,A.jsx)(j(),{remarkPlugins:[g()],children:y}),(0,A.jsx)("br",{}),(0,A.jsx)(v.p,{tx_id:m,currency:"USD",value:.05,open:T,onClose:L})]}),(0,A.jsxs)(c.ZP,{item:!0,xs:12,container:!0,alignItems:"center",justifyContent:"space-arround",fullWidth:!0,sx:{mt:0,height:69,color:"dark"===o.palette.mode?"grey.700":"grey.800"},children:[(0,A.jsx)(c.ZP,{xs:3,md:4,item:!0,sx:{h:"100%",w:"100%",display:"flex",justifyContent:"center"}}),(0,A.jsx)(c.ZP,{xs:6,md:4,justifyContent:"center",item:!0,sx:{h:"100%",w:"100%",display:"flex",justifyContent:"center"},children:(0,A.jsx)(O.Z,{txid:m,content:y,difficulty:R})})]})]})})}},47045:function(t,e,n){"use strict";n(50029);var r=n(72640),o=n(59499),i=(n(87794),n(67294)),a=(n(41664),n(2734)),s=n(98396),c=n(86886),l=n(15861),u=n(47739),p=n(35294),d=n(18972),h=n(83321),f=n(74231),x=(n(73955),n(87536)),m=n(95496),j=n(38456),y=n.n(j),g=n(10043),w=n.n(g),b=n(73400),Z=(n(71978),n(32107)),v=(n(62055),n(94552),n(74202)),k=n(65444),P=n(52838),O=n(82864),_=n(69418),S=n(20132),C=n(11163),A=n(30120),R=(n(17550),n(84059),n(85893));function q(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function I(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?q(Object(n),!0).forEach((function(e){(0,o.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var D=f.Ry().shape({name:f.Z_().required("Comment Field is Required")});e.Z=function(t){t.commentAdd,t.handleCommentLikes,t.handleReplayLikes;var e=t.post,n=(t.replyAdd,t.answer),o=(0,a.Z)(),f=(0,C.useRouter)(),j=e.tx_id,g=e.content,q=e.author,E=e.difficulty,M=e.answers,T=(e.created_at,e.timestamp),z=i.useState(!1),N=(0,r.Z)(z,2),U=N[0],W=N[1],F=((0,b.Ds)().enqueueSnackbar,(0,S.Z)().borderRadius,(0,s.Z)(o.breakpoints.down("md")),i.useState(null)),L=(0,r.Z)(F,2),V=L[0],B=L[1],Q=function(t){W(!1),B(!1)},X=i.useState(null),Y=(0,r.Z)(X,2),G=(Y[0],Y[1],function(t){t.stopPropagation()}),H=(0,x.cI)({resolver:(0,m.X)(D)});H.handleSubmit,H.formState.errors,H.reset;return(0,R.jsx)(Z.Z,{onClick:function(t){t.stopPropagation(),f.push("/".concat(n?"answers":"questions","/").concat(j))},children:(0,R.jsxs)(c.ZP,{container:!0,spacing:1,children:[(0,R.jsx)(c.ZP,{item:!0,xs:12,children:(0,R.jsxs)(c.ZP,{container:!0,wrap:"nowrap",alignItems:"center",spacing:1,children:[(0,R.jsx)(c.ZP,{item:!0,children:(0,R.jsx)(v.Z,{alt:"User 1",src:null!==q&&void 0!==q&&q.email?"https://bitpic.network/u/".concat(q.email):"https://bitpic.network/u/unknown"})}),(0,R.jsx)(c.ZP,{item:!0,xs:!0,zeroMinWidth:!0,children:(0,R.jsxs)(c.ZP,{container:!0,alignItems:"center",spacing:1,children:[(0,R.jsx)(c.ZP,{item:!0,children:(0,R.jsx)(l.Z,{align:"left",variant:"h5",component:"div",children:q?q.name:"Anonymous"})}),(0,R.jsx)(c.ZP,{item:!0,children:(0,R.jsx)(l.Z,{align:"left",variant:"caption",children:(0,R.jsx)("a",{target:"_blank",rel:"noopener",href:"https://whatsonchain.com/tx/".concat(j),children:A.ou.fromSeconds(parseInt(T)).toRelative().toString()})})})]})}),(0,R.jsxs)(c.ZP,{item:!0,children:[(0,R.jsx)(u.Z,{sx:{borderRadius:"12px"},onClick:function(t){t.stopPropagation(),B(t.currentTarget)},children:(0,R.jsx)(v.Z,{variant:"rounded",sx:I(I(I({},o.typography.commonAvatar),o.typography.smallAvatar),{},{background:"dark"===o.palette.mode?o.palette.dark.main:o.palette.secondary.light,color:"dark"===o.palette.mode?o.palette.dark.light:o.palette.secondary.dark,zIndex:1,transition:"all .2s ease-in-out",'&[aria-controls="menu-list-grow"],&:hover':{background:o.palette.secondary.main,color:o.palette.secondary.light}}),"aria-controls":"menu-post","aria-haspopup":"true",children:(0,R.jsx)(O.Z,{fontSize:"inherit"})})}),(0,R.jsx)(p.Z,{id:"menu-post",anchorEl:V,keepMounted:!0,open:Boolean(V),onClose:Q,variant:"selectedMenu",anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:(0,R.jsx)(d.Z,{onClick:function(t){return t.stopPropagation(),W(!0),!1},children:"View QR Code"})})]})]})}),(0,R.jsxs)(c.ZP,{item:!0,xs:12,sx:{"& > p":I(I({},o.typography.body1),{},{mb:0})},children:[(0,R.jsx)(y(),{remarkPlugins:[w()],children:g}),(0,R.jsx)("br",{}),(0,R.jsx)(k.p,{tx_id:j,currency:"USD",value:.05,open:U,onClose:Q})]}),(0,R.jsxs)(c.ZP,{item:!0,xs:12,container:!0,alignItems:"center",justifyContent:"space-arround",fullWidth:!0,sx:{mt:0,height:69,color:"dark"===o.palette.mode?"grey.700":"grey.800"},children:[(0,R.jsx)(c.ZP,{xs:3,md:4,item:!0,sx:{h:"100%",w:"100%",display:"flex",justifyContent:"center"}}),(0,R.jsx)(c.ZP,{xs:2,md:4,item:!0,sx:{h:"100%",w:"100%",display:"flex",justifyContent:"center"},children:(0,R.jsx)(h.Z,{onClick:G,variant:"text",color:"inherit",startIcon:(0,R.jsx)(_.Z,{color:"secondary"}),children:M?M.length:0})}),(0,R.jsx)(c.ZP,{xs:6,md:4,justifyContent:"center",item:!0,sx:{h:"100%",w:"100%",display:"flex",justifyContent:"center"},children:(0,R.jsx)(P.Z,{txid:j,content:g,difficulty:E})})]})]})})}},90890:function(t,e,n){"use strict";n.r(e);var r=n(50029),o=n(87794),i=n.n(o),a=n(67294),s=n(83321),c=n(86886),l=n(15861),u=n(26447),p=n(87357),d=n(23961),h=(n(41664),n(32107)),f=(n(47045),n(23168)),x=n(61507),m=n(862),j=n(32152),y=n(30698),g=n(49684),w=n(11163),b=n(10612),Z=n(73400),v=n(9008),k=n(4174),P=n(85893);function O(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"===typeof t)return _(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(t,e)}(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function _(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var S=function(){var t=(0,a.useState)(""),e=t[0],n=t[1];window.postAnswer=E;var o=(0,g.Z)(),_=(o.user,o.wallet),S=o.isLoggedIn,C=(0,w.useRouter)().query,A=(0,Z.Ds)().enqueueSnackbar,R=((0,k.h)("questions.".concat(C.question_id,".answer"),(function(t){console.log("on answer",t),A("new answer: ".concat(t.content))})),(0,y.Ek)("/questions/".concat(C.question_id),e)),q=R.data,I=R.error,D=R.refresh;R.loading;function E(t,e){return M.apply(this,arguments)}function M(){return(M=(0,r.Z)(i().mark((function t(e,n){var o,a,c,l;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=JSON.stringify({question_tx_id:e,content:n}),S){t.next=4;break}return A("Please, Log In",{anchorOrigin:{vertical:"top",horizontal:"center"},variant:"error"}),t.abrupt("return");case 4:t.prev=4,t.t0=_,t.next="relayx"===t.t0?8:"twetch"===t.t0?18:"handcash"===t.t0?19:20;break;case 8:return t.next=10,relayone.send({opReturn:["onchain","1HWaEAD5TXC2fWHDiua9Vue3Mf8V1ZmakN","answer",o],currency:"USD",amount:.0218,to:"1MqPZFc31jUetZ5hxVtG4tijJSugAcSZCQ"});case 10:return a=t.sent,a.amount,a.currency,a.identity,a.paymail,c=a.rawTx,a.satoshis,l=a.txid,console.log(a),A("Answer Posted",{anchorOrigin:{vertical:"top",horizontal:"center"},variant:"success",action:function(){return(0,P.jsx)(s.Z,{variant:"text",href:"https://whatsonchain.com/tx/".concat(l),children:"View"})}}),(0,r.Z)(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.ZP.get("https://askbitcoin.ai/api/v1/answers/".concat(l));case 3:D(),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.error("api.answers.show.error",t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))(),(0,r.Z)(i().mark((function t(){var e,n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.ZP.post("https://askbitcoin.ai/api/v1/transactions",{transaction:c});case 3:e=t.sent,n=e.data,console.log("postTransactionResponse",n),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.error("postTransactionResponse",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))(),(0,r.Z)(i().mark((function t(){var e,n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.ZP.post("https://askbitcoin.ai/api/v1/answers",{transaction:c});case 3:e=t.sent,n=e.data,console.log("postTransactionResponse",n),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.error("postTransactionResponse",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))(),t.abrupt("break",22);case 18:case 19:return t.abrupt("break",22);case 20:return console.error("No wallet selected"),t.abrupt("return");case 22:t.next=27;break;case 24:t.prev=24,t.t1=t.catch(4),A("Error Posting Answer: ".concat(t.t1.message),{anchorOrigin:{vertical:"top",horizontal:"center"},variant:"error"});case 27:case"end":return t.stop()}}),t,null,[[4,24]])})))).apply(this,arguments)}var T=[];if(I)return console.error("ERROR",I),(0,P.jsx)("p",{children:"Error"});if(!q)return(0,P.jsx)("p",{children:(0,P.jsx)(b.Z,{id:"loading"})});var z=q.question,N=z.answers;z.difficulty=z.boostpow_proofs.reduce((function(t,e){return new d.Z(t).plus(e.difficulty).toNumber()}),0),N=N.map((function(t){return Object.assign(t,{difficulty:t.boostpow_proofs.reduce((function(t,e){var n=e.difficulty;return new d.Z(t).plus(n).toNumber()}),0)})}));var U,W=O(N=N.sort((function(t,e){return t.difficulty<e.difficulty?1:-1})));try{for(W.s();!(U=W.n()).done;){var F=U.value;console.log("DIFF",F.difficulty)}}catch(L){W.e(L)}finally{W.f()}return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)(v.default,{children:[(0,P.jsx)("meta",{name:"title",content:"Ask Bitcoin - ".concat(z.content)},"title"),(0,P.jsx)("meta",{property:"og:locale",content:"en_US"}),(0,P.jsx)("meta",{property:"og:type",content:"website"}),(0,P.jsx)("meta",{property:"og:url",content:"https://askbitcoin.ai/".concat(z.url_stub)},"og_url"),(0,P.jsx)("meta",{property:"og:title",content:"Ask Bitcoin - ".concat(z.content)},"og_title"),(0,P.jsx)("meta",{property:"og:description",content:"Top Answers Ranked by Proof of Work to the Question ".concat(z.content)}),(0,P.jsx)("meta",{property:"twitter:url",content:"https://askbitcoin.ai/".concat(z.url_stub)},"twitter_url"),(0,P.jsx)("meta",{property:"twitter:title",content:"Ask Bitcoin - ".concat(z.content)},"twitter_title"),(0,P.jsx)("meta",{property:"twitter:description",content:"Top Answers Ranked by Proof of Work to the Question ".concat(z.content)},"twitter_description")]}),(0,P.jsx)(h.Z,{children:(0,P.jsx)(x.Z,{post:z})}),(0,P.jsx)("br",{}),(0,P.jsxs)(h.Z,{children:[(0,P.jsx)(m.Z,{question:z.tx_id,submit:E,placeholder:"Add your answer"}),(0,P.jsxs)(c.ZP,{container:!0,sx:{pb:"16px"},spacing:1,children:[(0,P.jsx)(c.ZP,{item:!0,xs:6,children:(0,P.jsx)(l.Z,{align:"right",variant:"h2",children:(0,P.jsx)(b.Z,{id:"answers-pow"})})}),(0,P.jsx)(c.ZP,{item:!0,xs:6,children:(0,P.jsx)(j.Z,{handleFilter:function(t){n(t.query)}})})]}),N.map((function(t){return(0,P.jsx)(f.Z,{answer:!0,post:t},t.tx_id)}))]}),(0,P.jsx)("h3",{children:"Recent Answers"}),(0,P.jsx)(h.Z,{children:(0,P.jsxs)(u.Z,{direction:"column",justifyContent:"flex-end",children:[(0,P.jsx)(p.Z,{sx:{padding:"2em"},children:(0,P.jsx)(l.Z,{sx:{p:"16px"},align:"center",variant:"h2",children:"Recent Answers"})}),(null===T||void 0===T?void 0:T.answers)&&T.answers.map((function(t){return(0,P.jsx)(f.Z,{post:t},t.id)}))]})})]})};S.Layout="authGuard",e.default=S},33502:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/questions/[question_id]",function(){return n(90890)}])}},function(t){t.O(0,[231,810,25,283,26,774,888,179],(function(){return e=33502,t(t.s=e);var e}));var e=t.O();_N_E=e}]);